{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"acceptances","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"acceptanceMessageHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"accepted","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"canAddressProceed","inputs":[{"name":"sender","type":"address","internalType":"address"}],"outputs":[{"name":"accepted","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"canProceed","inputs":[],"outputs":[{"name":"accepted","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getTextHash","inputs":[{"name":"version","type":"uint16","internalType":"uint16"}],"outputs":[{"name":"hash","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"hasAcceptedHash","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"acceptanceMessageHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"accepted","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"hasAcceptedVersion","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"version","type":"uint16","internalType":"uint16"}],"outputs":[{"name":"accepted","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"latestAcceptanceMessageHash","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"latestTermsOfServiceVersion","inputs":[],"outputs":[{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"signTermsOfServiceBehalf","inputs":[{"name":"signer","type":"address","internalType":"address"},{"name":"hash","type":"bytes32","internalType":"bytes32"},{"name":"signature","type":"bytes","internalType":"bytes"},{"name":"metadata","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"signTermsOfServiceOwn","inputs":[{"name":"hash","type":"bytes32","internalType":"bytes32"},{"name":"signature","type":"bytes","internalType":"bytes"},{"name":"metadata","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateTermsOfService","inputs":[{"name":"version","type":"uint16","internalType":"uint16"},{"name":"acceptanceMessageHash","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"versions","inputs":[{"name":"version","type":"uint16","internalType":"uint16"}],"outputs":[{"name":"acceptanceMessageHash","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Signed","inputs":[{"name":"signer","type":"address","indexed":false,"internalType":"address"},{"name":"version","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"hash","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"metadata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"UpdateTermsOfService","inputs":[{"name":"version","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"acceptanceMessageHash","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b5061001a3361001f565b61006f565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610ddb8061007e6000396000f3fe608060405234801561001057600080fd5b50600436106100f55760003560e01c80638da5cb5b11610097578063be0fc8a611610066578063be0fc8a61461020e578063c4846df014610221578063f2fde38b14610245578063f8f584b81461025857600080fd5b80638da5cb5b1461019b578063931f45f8146101b65780639a5f773e146101e4578063b8ad591b146101ed57600080fd5b80635f145fb7116100d35780635f145fb71461014a5780635fc7e1b61461015d57806361b351631461018b578063715018a61461019357600080fd5b80633f3dea15146100fa5780635053b5631461010f5780635c162cdf14610137575b600080fd5b61010d610108366004610a91565b61026b565b005b61012261011d366004610b27565b610280565b60405190151581526020015b60405180910390f35b61010d610145366004610b5b565b6102e9565b61010d610158366004610b85565b610430565b61017d61016b366004610c0f565b60026020526000908152604090205481565b60405190815260200161012e565b610122610622565b61010d610632565b6000546040516001600160a01b03909116815260200161012e565b6101226101c4366004610c2a565b600160209081526000928352604080842090915290825290205460ff1681565b61017d60035481565b6004546101fb9061ffff1681565b60405161ffff909116815260200161012e565b61012261021c366004610c46565b610646565b61017d61022f366004610c0f565b61ffff1660009081526002602052604090205490565b61010d610253366004610b27565b6106ab565b610122610266366004610c2a565b610724565b610279338686868686610430565b5050505050565b6003546000906102d75760405162461bcd60e51b815260206004820181905260248201527f5465726d73206f662073657276696365206e6f7420696e697469616c6973656460448201526064015b60405180910390fd5b6102e382600354610724565b92915050565b6102f161074f565b6004546103039061ffff166001610c79565b61ffff168261ffff16146103685760405162461bcd60e51b815260206004820152602660248201527f56657273696f6e73206d757374206265207570646174656420696e6372656d656044820152656e74616c6c7960d01b60648201526084016102ce565b60035481036103c95760405162461bcd60e51b815260206004820152602760248201527f53657474696e67207468652073616d65207465726d73206f66207365727669636044820152666520747769636560c81b60648201526084016102ce565b60038190556004805461ffff191661ffff8416908117909155600081815260026020908152604091829020849055815192835282018390527f85b7d26208605d06e97fbd501843a4150a6efa1d95745c8401f38d56156f82e2910160405180910390a15050565b60035485146104a75760405162461bcd60e51b815260206004820152603760248201527f43616e6e6f74207369676e206f6c646572206f7220756e6b6e6f776e2076657260448201527f73696f6e73207465726d73206f6620736572766963657300000000000000000060648201526084016102ce565b6104f38585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250506001600160a01b038b1693929150506107a9565b6105385760405162461bcd60e51b815260206004820152601660248201527514da59db985d1d5c99481a5cc81b9bdd081d985b1a5960521b60448201526064016102ce565b6001600160a01b0386166000908152600160209081526040808320600354845290915290205460ff161561059f5760405162461bcd60e51b815260206004820152600e60248201526d105b1c9958591e481cda59db995960921b60448201526064016102ce565b6001600160a01b0386166000908152600160208181526040808420600380548652925292839020805460ff1916909217909155600454905491517f32c70fa5bb7bfd2dd4d863783422e6009fbcd3127a0e36bb0627e67ae136f9a792610612928a9261ffff909116919087908790610ca9565b60405180910390a1505050505050565b600061062d33610280565b905090565b61063a61074f565b610644600061080a565b565b61ffff8116600090815260026020526040812054806106995760405162461bcd60e51b815260206004820152600f60248201526e27379039bab1b4103b32b939b4b7b760891b60448201526064016102ce565b6106a38482610724565b949350505050565b6106b361074f565b6001600160a01b0381166107185760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016102ce565b6107218161080a565b50565b6001600160a01b03919091166000908152600160209081526040808320938352929052205460ff1690565b6000546001600160a01b031633146106445760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016102ce565b60008060006107b8858561085a565b909250905060008160048111156107d1576107d1610cfc565b1480156107ef5750856001600160a01b0316826001600160a01b0316145b80610800575061080086868661089f565b9695505050505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008082516041036108905760208301516040840151606085015160001a6108848782858561098b565b94509450505050610898565b506000905060025b9250929050565b6000806000856001600160a01b0316631626ba7e60e01b86866040516024016108c9929190610d36565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b03199094169390931790925290516109079190610d70565b600060405180830381855afa9150503d8060008114610942576040519150601f19603f3d011682016040523d82523d6000602084013e610947565b606091505b509150915081801561095b57506020815110155b801561080057508051630b135d3f60e11b906109809083016020908101908401610d8c565b149695505050505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311156109c25750600090506003610a46565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015610a16573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116610a3f57600060019250925050610a46565b9150600090505b94509492505050565b60008083601f840112610a6157600080fd5b50813567ffffffffffffffff811115610a7957600080fd5b60208301915083602082850101111561089857600080fd5b600080600080600060608688031215610aa957600080fd5b85359450602086013567ffffffffffffffff80821115610ac857600080fd5b610ad489838a01610a4f565b90965094506040880135915080821115610aed57600080fd5b50610afa88828901610a4f565b969995985093965092949392505050565b80356001600160a01b0381168114610b2257600080fd5b919050565b600060208284031215610b3957600080fd5b610b4282610b0b565b9392505050565b803561ffff81168114610b2257600080fd5b60008060408385031215610b6e57600080fd5b610b7783610b49565b946020939093013593505050565b60008060008060008060808789031215610b9e57600080fd5b610ba787610b0b565b955060208701359450604087013567ffffffffffffffff80821115610bcb57600080fd5b610bd78a838b01610a4f565b90965094506060890135915080821115610bf057600080fd5b50610bfd89828a01610a4f565b979a9699509497509295939492505050565b600060208284031215610c2157600080fd5b610b4282610b49565b60008060408385031215610c3d57600080fd5b610b7783610b0b565b60008060408385031215610c5957600080fd5b610c6283610b0b565b9150610c7060208401610b49565b90509250929050565b61ffff818116838216019080821115610ca257634e487b7160e01b600052601160045260246000fd5b5092915050565b6001600160a01b038616815261ffff85166020820152604081018490526080606082018190528101829052818360a0830137600081830160a090810191909152601f909201601f19160101949350505050565b634e487b7160e01b600052602160045260246000fd5b60005b83811015610d2d578181015183820152602001610d15565b50506000910152565b8281526040602082015260008251806040840152610d5b816060850160208701610d12565b601f01601f1916919091016060019392505050565b60008251610d82818460208701610d12565b9190910192915050565b600060208284031215610d9e57600080fd5b505191905056fea26469706673582212208ff750ea83fa5261552101c73c32b6d039c39e61802e76ce95712126cf55c01464736f6c63430008130033","sourceMap":"665:4244:29:-:0;;;1681:31;;;;;;;;;-1:-1:-1;936:32:20;734:10:22;936:18:20;:32::i;:::-;665:4244:29;;2426:187:20;2499:16;2518:6;;-1:-1:-1;;;;;2534:17:20;;;-1:-1:-1;;;;;;2534:17:20;;;;;;2566:40;;2518:6;;;;;;;2566:40;;2499:16;2566:40;2489:124;2426:187;:::o;665:4244:29:-;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100f55760003560e01c80638da5cb5b11610097578063be0fc8a611610066578063be0fc8a61461020e578063c4846df014610221578063f2fde38b14610245578063f8f584b81461025857600080fd5b80638da5cb5b1461019b578063931f45f8146101b65780639a5f773e146101e4578063b8ad591b146101ed57600080fd5b80635f145fb7116100d35780635f145fb71461014a5780635fc7e1b61461015d57806361b351631461018b578063715018a61461019357600080fd5b80633f3dea15146100fa5780635053b5631461010f5780635c162cdf14610137575b600080fd5b61010d610108366004610a91565b61026b565b005b61012261011d366004610b27565b610280565b60405190151581526020015b60405180910390f35b61010d610145366004610b5b565b6102e9565b61010d610158366004610b85565b610430565b61017d61016b366004610c0f565b60026020526000908152604090205481565b60405190815260200161012e565b610122610622565b61010d610632565b6000546040516001600160a01b03909116815260200161012e565b6101226101c4366004610c2a565b600160209081526000928352604080842090915290825290205460ff1681565b61017d60035481565b6004546101fb9061ffff1681565b60405161ffff909116815260200161012e565b61012261021c366004610c46565b610646565b61017d61022f366004610c0f565b61ffff1660009081526002602052604090205490565b61010d610253366004610b27565b6106ab565b610122610266366004610c2a565b610724565b610279338686868686610430565b5050505050565b6003546000906102d75760405162461bcd60e51b815260206004820181905260248201527f5465726d73206f662073657276696365206e6f7420696e697469616c6973656460448201526064015b60405180910390fd5b6102e382600354610724565b92915050565b6102f161074f565b6004546103039061ffff166001610c79565b61ffff168261ffff16146103685760405162461bcd60e51b815260206004820152602660248201527f56657273696f6e73206d757374206265207570646174656420696e6372656d656044820152656e74616c6c7960d01b60648201526084016102ce565b60035481036103c95760405162461bcd60e51b815260206004820152602760248201527f53657474696e67207468652073616d65207465726d73206f66207365727669636044820152666520747769636560c81b60648201526084016102ce565b60038190556004805461ffff191661ffff8416908117909155600081815260026020908152604091829020849055815192835282018390527f85b7d26208605d06e97fbd501843a4150a6efa1d95745c8401f38d56156f82e2910160405180910390a15050565b60035485146104a75760405162461bcd60e51b815260206004820152603760248201527f43616e6e6f74207369676e206f6c646572206f7220756e6b6e6f776e2076657260448201527f73696f6e73207465726d73206f6620736572766963657300000000000000000060648201526084016102ce565b6104f38585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250506001600160a01b038b1693929150506107a9565b6105385760405162461bcd60e51b815260206004820152601660248201527514da59db985d1d5c99481a5cc81b9bdd081d985b1a5960521b60448201526064016102ce565b6001600160a01b0386166000908152600160209081526040808320600354845290915290205460ff161561059f5760405162461bcd60e51b815260206004820152600e60248201526d105b1c9958591e481cda59db995960921b60448201526064016102ce565b6001600160a01b0386166000908152600160208181526040808420600380548652925292839020805460ff1916909217909155600454905491517f32c70fa5bb7bfd2dd4d863783422e6009fbcd3127a0e36bb0627e67ae136f9a792610612928a9261ffff909116919087908790610ca9565b60405180910390a1505050505050565b600061062d33610280565b905090565b61063a61074f565b610644600061080a565b565b61ffff8116600090815260026020526040812054806106995760405162461bcd60e51b815260206004820152600f60248201526e27379039bab1b4103b32b939b4b7b760891b60448201526064016102ce565b6106a38482610724565b949350505050565b6106b361074f565b6001600160a01b0381166107185760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016102ce565b6107218161080a565b50565b6001600160a01b03919091166000908152600160209081526040808320938352929052205460ff1690565b6000546001600160a01b031633146106445760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016102ce565b60008060006107b8858561085a565b909250905060008160048111156107d1576107d1610cfc565b1480156107ef5750856001600160a01b0316826001600160a01b0316145b80610800575061080086868661089f565b9695505050505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008082516041036108905760208301516040840151606085015160001a6108848782858561098b565b94509450505050610898565b506000905060025b9250929050565b6000806000856001600160a01b0316631626ba7e60e01b86866040516024016108c9929190610d36565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b03199094169390931790925290516109079190610d70565b600060405180830381855afa9150503d8060008114610942576040519150601f19603f3d011682016040523d82523d6000602084013e610947565b606091505b509150915081801561095b57506020815110155b801561080057508051630b135d3f60e11b906109809083016020908101908401610d8c565b149695505050505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311156109c25750600090506003610a46565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015610a16573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116610a3f57600060019250925050610a46565b9150600090505b94509492505050565b60008083601f840112610a6157600080fd5b50813567ffffffffffffffff811115610a7957600080fd5b60208301915083602082850101111561089857600080fd5b600080600080600060608688031215610aa957600080fd5b85359450602086013567ffffffffffffffff80821115610ac857600080fd5b610ad489838a01610a4f565b90965094506040880135915080821115610aed57600080fd5b50610afa88828901610a4f565b969995985093965092949392505050565b80356001600160a01b0381168114610b2257600080fd5b919050565b600060208284031215610b3957600080fd5b610b4282610b0b565b9392505050565b803561ffff81168114610b2257600080fd5b60008060408385031215610b6e57600080fd5b610b7783610b49565b946020939093013593505050565b60008060008060008060808789031215610b9e57600080fd5b610ba787610b0b565b955060208701359450604087013567ffffffffffffffff80821115610bcb57600080fd5b610bd78a838b01610a4f565b90965094506060890135915080821115610bf057600080fd5b50610bfd89828a01610a4f565b979a9699509497509295939492505050565b600060208284031215610c2157600080fd5b610b4282610b49565b60008060408385031215610c3d57600080fd5b610b7783610b0b565b60008060408385031215610c5957600080fd5b610c6283610b0b565b9150610c7060208401610b49565b90509250929050565b61ffff818116838216019080821115610ca257634e487b7160e01b600052601160045260246000fd5b5092915050565b6001600160a01b038616815261ffff85166020820152604081018490526080606082018190528101829052818360a0830137600081830160a090810191909152601f909201601f19160101949350505050565b634e487b7160e01b600052602160045260246000fd5b60005b83811015610d2d578181015183820152602001610d15565b50506000910152565b8281526040602082015260008251806040840152610d5b816060850160208701610d12565b601f01601f1916919091016060019392505050565b60008251610d82818460208701610d12565b9190910192915050565b600060208284031215610d9e57600080fd5b505191905056fea26469706673582212208ff750ea83fa5261552101c73c32b6d039c39e61802e76ce95712126cf55c01464736f6c63430008130033","sourceMap":"665:4244:29:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4723:183;;;;;;:::i;:::-;;:::i;:::-;;3195:251;;;;;;:::i;:::-;;:::i;:::-;;;1690:14:31;;1683:22;1665:41;;1653:2;1638:18;3195:251:29;;;;;;;;2274:544;;;;;;:::i;:::-;;:::i;4131:586::-;;;;;;:::i;:::-;;:::i;1184:72::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;3338:25:31;;;3326:2;3311:18;1184:72:29;3192:177:31;2956:111:29;;;:::i;1824:101:20:-;;;:::i;1201:85::-;1247:7;1273:6;1201:85;;-1:-1:-1;;;;;1273:6:20;;;3520:51:31;;3508:2;3493:18;1201:85:20;3374:203:31;1026:102:29;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;1263:42;;;;;;1430:41;;;;;;;;;;;;4015:6:31;4003:19;;;3985:38;;3973:2;3958:18;1430:41:29;3841:188:31;2019:249:29;;;;;;:::i;:::-;;:::i;1900:113::-;;;;;;:::i;:::-;1989:17;;1958:12;1989:17;;;:8;:17;;;;;;;1900:113;2074:198:20;;;;;;:::i;:::-;;:::i;1718:176:29:-;;;;;;:::i;:::-;;:::i;4723:183::-;4836:63;4861:10;4873:4;4879:9;;4890:8;;4836:24;:63::i;:::-;4723:183;;;;;:::o;3195:251::-;3292:27;;3259:13;;3284:86;;;;-1:-1:-1;;;3284:86:29;;4499:2:31;3284:86:29;;;4481:21:31;;;4518:18;;;4511:30;4577:34;4557:18;;;4550:62;4629:18;;3284:86:29;;;;;;;;;3387:52;3403:6;3411:27;;3387:15;:52::i;:::-;3380:59;3195:251;-1:-1:-1;;3195:251:29:o;2274:544::-;1094:13:20;:11;:13::i;:::-;2397:27:29::1;::::0;:31:::1;::::0;:27:::1;;::::0;:31:::1;:::i;:::-;2386:42;;:7;:42;;;2378:93;;;::::0;-1:-1:-1;;;2378:93:29;;5130:2:31;2378:93:29::1;::::0;::::1;5112:21:31::0;5169:2;5149:18;;;5142:30;5208:34;5188:18;;;5181:62;-1:-1:-1;;;5259:18:31;;;5252:36;5305:19;;2378:93:29::1;4928:402:31::0;2378:93:29::1;2514:27;;2489:21;:52:::0;2481:104:::1;;;::::0;-1:-1:-1;;;2481:104:29;;5537:2:31;2481:104:29::1;::::0;::::1;5519:21:31::0;5576:2;5556:18;;;5549:30;5615:34;5595:18;;;5588:62;-1:-1:-1;;;5666:18:31;;;5659:37;5713:19;;2481:104:29::1;5335:403:31::0;2481:104:29::1;2595:27;:51:::0;;;2656:27:::1;:37:::0;;-1:-1:-1;;2656:37:29::1;;::::0;::::1;::::0;;::::1;::::0;;;-1:-1:-1;2703:17:29;;;:8:::1;:17;::::0;;;;;;;;:41;;;2759:52;;5915:38:31;;;5969:18;;5962:34;;;2759:52:29::1;::::0;5888:18:31;2759:52:29::1;;;;;;;2274:544:::0;;:::o;4131:586::-;4279:27;;4271:4;:35;4263:103;;;;-1:-1:-1;;;4263:103:29;;6209:2:31;4263:103:29;;;6191:21:31;6248:2;6228:18;;;6221:30;6287:34;6267:18;;;6260:62;6358:25;6338:18;;;6331:53;6401:19;;4263:103:29;6007:419:31;4263:103:29;4384:43;4411:4;4417:9;;4384:43;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;4384:26:29;;;:43;;-1:-1:-1;;4384:26:29;:43::i;:::-;4376:78;;;;-1:-1:-1;;;4376:78:29;;6633:2:31;4376:78:29;;;6615:21:31;6672:2;6652:18;;;6645:30;-1:-1:-1;;;6691:18:31;;;6684:52;6753:18;;4376:78:29;6431:346:31;4376:78:29;-1:-1:-1;;;;;4472:19:29;;;;;;:11;:19;;;;;;;;4492:27;;4472:48;;;;;;;;;;:57;4464:84;;;;-1:-1:-1;;;4464:84:29;;6984:2:31;4464:84:29;;;6966:21:31;7023:2;7003:18;;;6996:30;-1:-1:-1;;;7042:18:31;;;7035:44;7096:18;;4464:84:29;6782:338:31;4464:84:29;-1:-1:-1;;;;;4558:19:29;;;;;;4609:4;4558:19;;;;;;;;4578:27;;;4558:48;;;;;;;;:55;;-1:-1:-1;;4558:55:29;;;;;;;4643:27;;4672;;4628:82;;;;;;4570:6;;4643:27;;;;;4672;4701:8;;;;4628:82;:::i;:::-;;;;;;;;4131:586;;;;;;:::o;2956:111::-;2999:13;3031:29;3049:10;3031:17;:29::i;:::-;3024:36;;2956:111;:::o;1824:101:20:-;1094:13;:11;:13::i;:::-;1888:30:::1;1915:1;1888:18;:30::i;:::-;1824:101::o:0;2019:249:29:-;2141:17;;;2101:13;2141:17;;;:8;:17;;;;;;;2168:46;;;;-1:-1:-1;;;2168:46:29;;7975:2:31;2168:46:29;;;7957:21:31;8014:2;7994:18;;;7987:30;-1:-1:-1;;;8033:18:31;;;8026:45;8088:18;;2168:46:29;7773:339:31;2168:46:29;2231:30;2247:7;2256:4;2231:15;:30::i;:::-;2224:37;2019:249;-1:-1:-1;;;;2019:249:29:o;2074:198:20:-;1094:13;:11;:13::i;:::-;-1:-1:-1;;;;;2162:22:20;::::1;2154:73;;;::::0;-1:-1:-1;;;2154:73:20;;8319:2:31;2154:73:20::1;::::0;::::1;8301:21:31::0;8358:2;8338:18;;;8331:30;8397:34;8377:18;;;8370:62;-1:-1:-1;;;8448:18:31;;;8441:36;8494:19;;2154:73:20::1;8117:402:31::0;2154:73:20::1;2237:28;2256:8;2237:18;:28::i;:::-;2074:198:::0;:::o;1718:176:29:-;-1:-1:-1;;;;;1844:20:29;;;;1812:13;1844:20;;;:11;:20;;;;;;;;:43;;;;;;;;;;;1718:176::o;1359:130:20:-;1247:7;1273:6;-1:-1:-1;;;;;1273:6:20;734:10:22;1422:23:20;1414:68;;;;-1:-1:-1;;;1414:68:20;;8726:2:31;1414:68:20;;;8708:21:31;;;8745:18;;;8738:30;8804:34;8784:18;;;8777:62;8856:18;;1414:68:20;8524:356:31;1014:366:25;1120:4;1137:17;1156:24;1184:33;1201:4;1207:9;1184:16;:33::i;:::-;1136:81;;-1:-1:-1;1136:81:25;-1:-1:-1;1256:26:25;1247:5;:35;;;;;;;;:::i;:::-;;:58;;;;;1299:6;-1:-1:-1;;;;;1286:19:25;:9;-1:-1:-1;;;;;1286:19:25;;1247:58;1246:127;;;;1322:51;1349:6;1357:4;1363:9;1322:26;:51::i;:::-;1227:146;1014:366;-1:-1:-1;;;;;;1014:366:25:o;2426:187:20:-;2499:16;2518:6;;-1:-1:-1;;;;;2534:17:20;;;-1:-1:-1;;;;;;2534:17:20;;;;;;2566:40;;2518:6;;;;;;;2566:40;;2499:16;2566:40;2489:124;2426:187;:::o;2145:730:24:-;2226:7;2235:12;2263:9;:16;2283:2;2263:22;2259:610;;2599:4;2584:20;;2578:27;2648:4;2633:20;;2627:27;2705:4;2690:20;;2684:27;2301:9;2676:36;2746:25;2757:4;2676:36;2578:27;2627;2746:10;:25::i;:::-;2739:32;;;;;;;;;2259:610;-1:-1:-1;2818:1:24;;-1:-1:-1;2822:35:24;2259:610;2145:730;;;;;:::o;1786:473:25:-;1929:4;1946:12;1960:19;1983:6;-1:-1:-1;;;;;1983:17:25;2037:34;;;2073:4;2079:9;2014:75;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;2014:75:25;;;;;;;;;;;;;;-1:-1:-1;;;;;2014:75:25;-1:-1:-1;;;;;;2014:75:25;;;;;;;;;;1983:116;;;;2014:75;1983:116;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1945:154;;;;2117:7;:42;;;;;2157:2;2140:6;:13;:19;;2117:42;:134;;;;-1:-1:-1;2175:29:25;;-1:-1:-1;;;2216:34:25;2175:29;;;;;;;;;;;;:::i;:::-;:76;;1786:473;-1:-1:-1;;;;;;1786:473:25:o;5009:1456:24:-;5097:7;;6021:66;6008:79;;6004:161;;;-1:-1:-1;6119:1:24;;-1:-1:-1;6123:30:24;6103:51;;6004:161;6276:24;;;6259:14;6276:24;;;;;;;;;10450:25:31;;;10523:4;10511:17;;10491:18;;;10484:45;;;;10545:18;;;10538:34;;;10588:18;;;10581:34;;;6276:24:24;;10422:19:31;;6276:24:24;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;6276:24:24;;-1:-1:-1;;6276:24:24;;;-1:-1:-1;;;;;;;6314:20:24;;6310:101;;6366:1;6370:29;6350:50;;;;;;;6310:101;6429:6;-1:-1:-1;6437:20:24;;-1:-1:-1;5009:1456:24;;;;;;;;:::o;14:347:31:-;65:8;75:6;129:3;122:4;114:6;110:17;106:27;96:55;;147:1;144;137:12;96:55;-1:-1:-1;170:20:31;;213:18;202:30;;199:50;;;245:1;242;235:12;199:50;282:4;274:6;270:17;258:29;;334:3;327:4;318:6;310;306:19;302:30;299:39;296:59;;;351:1;348;341:12;366:785;465:6;473;481;489;497;550:2;538:9;529:7;525:23;521:32;518:52;;;566:1;563;556:12;518:52;602:9;589:23;579:33;;663:2;652:9;648:18;635:32;686:18;727:2;719:6;716:14;713:34;;;743:1;740;733:12;713:34;782:58;832:7;823:6;812:9;808:22;782:58;:::i;:::-;859:8;;-1:-1:-1;756:84:31;-1:-1:-1;947:2:31;932:18;;919:32;;-1:-1:-1;963:16:31;;;960:36;;;992:1;989;982:12;960:36;;1031:60;1083:7;1072:8;1061:9;1057:24;1031:60;:::i;:::-;366:785;;;;-1:-1:-1;366:785:31;;-1:-1:-1;1110:8:31;;1005:86;366:785;-1:-1:-1;;;366:785:31:o;1156:173::-;1224:20;;-1:-1:-1;;;;;1273:31:31;;1263:42;;1253:70;;1319:1;1316;1309:12;1253:70;1156:173;;;:::o;1334:186::-;1393:6;1446:2;1434:9;1425:7;1421:23;1417:32;1414:52;;;1462:1;1459;1452:12;1414:52;1485:29;1504:9;1485:29;:::i;:::-;1475:39;1334:186;-1:-1:-1;;;1334:186:31:o;1717:159::-;1784:20;;1844:6;1833:18;;1823:29;;1813:57;;1866:1;1863;1856:12;1881:252;1948:6;1956;2009:2;1997:9;1988:7;1984:23;1980:32;1977:52;;;2025:1;2022;2015:12;1977:52;2048:28;2066:9;2048:28;:::i;:::-;2038:38;2123:2;2108:18;;;;2095:32;;-1:-1:-1;;;1881:252:31:o;2138:860::-;2246:6;2254;2262;2270;2278;2286;2339:3;2327:9;2318:7;2314:23;2310:33;2307:53;;;2356:1;2353;2346:12;2307:53;2379:29;2398:9;2379:29;:::i;:::-;2369:39;;2455:2;2444:9;2440:18;2427:32;2417:42;;2510:2;2499:9;2495:18;2482:32;2533:18;2574:2;2566:6;2563:14;2560:34;;;2590:1;2587;2580:12;2560:34;2629:58;2679:7;2670:6;2659:9;2655:22;2629:58;:::i;:::-;2706:8;;-1:-1:-1;2603:84:31;-1:-1:-1;2794:2:31;2779:18;;2766:32;;-1:-1:-1;2810:16:31;;;2807:36;;;2839:1;2836;2829:12;2807:36;;2878:60;2930:7;2919:8;2908:9;2904:24;2878:60;:::i;:::-;2138:860;;;;-1:-1:-1;2138:860:31;;-1:-1:-1;2138:860:31;;2957:8;;2138:860;-1:-1:-1;;;2138:860:31:o;3003:184::-;3061:6;3114:2;3102:9;3093:7;3089:23;3085:32;3082:52;;;3130:1;3127;3120:12;3082:52;3153:28;3171:9;3153:28;:::i;3582:254::-;3650:6;3658;3711:2;3699:9;3690:7;3686:23;3682:32;3679:52;;;3727:1;3724;3717:12;3679:52;3750:29;3769:9;3750:29;:::i;4034:258::-;4101:6;4109;4162:2;4150:9;4141:7;4137:23;4133:32;4130:52;;;4178:1;4175;4168:12;4130:52;4201:29;4220:9;4201:29;:::i;:::-;4191:39;;4249:37;4282:2;4271:9;4267:18;4249:37;:::i;:::-;4239:47;;4034:258;;;;;:::o;4658:265::-;4725:6;4751:10;;;4763;;;4747:27;;4786:11;;;4783:134;;;4839:10;4834:3;4830:20;4827:1;4820:31;4874:4;4871:1;4864:15;4902:4;4899:1;4892:15;4783:134;;4658:265;;;;:::o;7125:643::-;-1:-1:-1;;;;;7364:32:31;;7346:51;;7445:6;7433:19;;7428:2;7413:18;;7406:47;7484:2;7469:18;;7462:34;;;7532:3;7527:2;7512:18;;7505:31;;;7552:19;;7545:35;;;7573:6;7623;7384:3;7602:19;;7589:49;7688:1;7658:22;;;7682:3;7654:32;;;7647:43;;;;7751:2;7730:15;;;-1:-1:-1;;7726:29:31;7711:45;7707:55;;7125:643;-1:-1:-1;;;;7125:643:31:o;8885:127::-;8946:10;8941:3;8937:20;8934:1;8927:31;8977:4;8974:1;8967:15;9001:4;8998:1;8991:15;9017:250;9102:1;9112:113;9126:6;9123:1;9120:13;9112:113;;;9202:11;;;9196:18;9183:11;;;9176:39;9148:2;9141:10;9112:113;;;-1:-1:-1;;9259:1:31;9241:16;;9234:27;9017:250::o;9272:465::-;9447:6;9436:9;9429:25;9490:2;9485;9474:9;9470:18;9463:30;9410:4;9522:6;9516:13;9565:6;9560:2;9549:9;9545:18;9538:34;9581:79;9653:6;9648:2;9637:9;9633:18;9628:2;9620:6;9616:15;9581:79;:::i;:::-;9721:2;9700:15;-1:-1:-1;;9696:29:31;9681:45;;;;9728:2;9677:54;;9272:465;-1:-1:-1;;;9272:465:31:o;9742:287::-;9871:3;9909:6;9903:13;9925:66;9984:6;9979:3;9972:4;9964:6;9960:17;9925:66;:::i;:::-;10007:16;;;;;9742:287;-1:-1:-1;;9742:287:31:o;10034:184::-;10104:6;10157:2;10145:9;10136:7;10132:23;10128:32;10125:52;;;10173:1;10170;10163:12;10125:52;-1:-1:-1;10196:16:31;;10034:184;-1:-1:-1;10034:184:31:o","linkReferences":{}},"methodIdentifiers":{"acceptances(address,bytes32)":"931f45f8","canAddressProceed(address)":"5053b563","canProceed()":"61b35163","getTextHash(uint16)":"c4846df0","hasAcceptedHash(address,bytes32)":"f8f584b8","hasAcceptedVersion(address,uint16)":"be0fc8a6","latestAcceptanceMessageHash()":"9a5f773e","latestTermsOfServiceVersion()":"b8ad591b","owner()":"8da5cb5b","renounceOwnership()":"715018a6","signTermsOfServiceBehalf(address,bytes32,bytes,bytes)":"5f145fb7","signTermsOfServiceOwn(bytes32,bytes,bytes)":"3f3dea15","transferOwnership(address)":"f2fde38b","updateTermsOfService(uint16,bytes32)":"5c162cdf","versions(uint16)":"5fc7e1b6"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"signer\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"version\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"metadata\",\"type\":\"bytes\"}],\"name\":\"Signed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"version\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"acceptanceMessageHash\",\"type\":\"bytes32\"}],\"name\":\"UpdateTermsOfService\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"acceptanceMessageHash\",\"type\":\"bytes32\"}],\"name\":\"acceptances\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"accepted\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"canAddressProceed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"accepted\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"canProceed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"accepted\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint16\",\"name\":\"version\",\"type\":\"uint16\"}],\"name\":\"getTextHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"acceptanceMessageHash\",\"type\":\"bytes32\"}],\"name\":\"hasAcceptedHash\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"accepted\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint16\",\"name\":\"version\",\"type\":\"uint16\"}],\"name\":\"hasAcceptedVersion\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"accepted\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestAcceptanceMessageHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestTermsOfServiceVersion\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"signer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"metadata\",\"type\":\"bytes\"}],\"name\":\"signTermsOfServiceBehalf\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"metadata\",\"type\":\"bytes\"}],\"name\":\"signTermsOfServiceOwn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint16\",\"name\":\"version\",\"type\":\"uint16\"},{\"internalType\":\"bytes32\",\"name\":\"acceptanceMessageHash\",\"type\":\"bytes32\"}],\"name\":\"updateTermsOfService\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint16\",\"name\":\"version\",\"type\":\"uint16\"}],\"name\":\"versions\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"acceptanceMessageHash\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"canAddressProceed(address)\":{\"notice\":\"Can a user proceed to the next step, or they they need to sign the latest terms of service.\"},\"canProceed()\":{\"notice\":\"Can the current user proceed to the next step, or they they need to sign the latest terms of service.\"},\"signTermsOfServiceBehalf(address,bytes32,bytes,bytes)\":{\"notice\":\"Sign terms of service - Externally Owned Account sign - EIP-1271 sign - EIP-191 formatted message The user can sign multiple times. See - ECDSA tryRecover https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/ECDSA.sol - Gnosis Safe signing example: https://github.com/safe-global/safe-eth-py/blob/master/gnosis/safe/tests/test_safe_signature.py#L195 - OpenZeppelin SignatureChecker implementation: https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/SignatureChecker.sol\"}},\"notice\":\"Terms of service acceptance tracker Manage signatures of users of different versions of terms of service.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/TermsOfService.sol\":\"TermsOfService\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xba43b97fba0d32eb4254f6a5a297b39a19a247082a02d6e69349e071e2946218\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fc980984badf3984b6303b377711220e067722bbd6a135b24669ff5069ef9f32\",\"dweb:/ipfs/QmPHXMSXj99XjSVM21YsY6aNtLLjLVXDbyN76J5HQYvvrz\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol\":{\"keccak256\":\"0x0705a4b1b86d7b0bd8432118f226ba139c44b9dcaba0a6eafba2dd7d0639c544\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c45b821ef9e882e57c256697a152e108f0f2ad6997609af8904cae99c9bd422e\",\"dweb:/ipfs/QmRKCJW6jjzR5UYZcLpGnhEJ75UVbH6EHkEa49sWx2SKng\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0xa92e4fa126feb6907daa0513ddd816b2eb91f30a808de54f63c17d0e162c3439\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a367861093b74443b137564d3f3c472f70bcf114739e62059c939f25e315706c\",\"dweb:/ipfs/Qmd7JMpcxD9RuQjK3uM3EzJUgSqdN8vzp8eytEiuwxQJ6h\"]},\"lib/openzeppelin-contracts/contracts/utils/Strings.sol\":{\"keccak256\":\"0x3088eb2868e8d13d89d16670b5f8612c4ab9ff8956272837d8e90106c59c14a0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b81d9ff6559ea5c47fc573e17ece6d9ba5d6839e213e6ebc3b4c5c8fe4199d7f\",\"dweb:/ipfs/QmPCW1bFisUzJkyjroY3yipwfism9RRCigCcK1hbXtVM8n\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol\":{\"keccak256\":\"0x809bc3edb4bcbef8263fa616c1b60ee0004b50a8a1bfa164d8f57fd31f520c58\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8b93a1e39a4a19eba1600b92c96f435442db88cac91e315c8291547a2a7bcfe2\",\"dweb:/ipfs/QmTm34KVe6uZBZwq8dZDNWwPcm24qBJdxqL3rPxBJ4LrMv\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol\":{\"keccak256\":\"0x3af3ca86df39aac39a0514c84459d691434a108d2151c8ce9d69f32e315cab80\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://77d1f1cf302cd5e1dfbbb4ce3b281b28e8c52942d4319fce43df2e1b6f02a52d\",\"dweb:/ipfs/QmT6ZXStmK3Knhh9BokeVHQ9HXTBZNgL3Eb1ar1cYg1hWy\"]},\"lib/openzeppelin-contracts/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xe4455ac1eb7fc497bb7402579e7b4d64d928b846fce7d2b6fde06d366f21c2b3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cc8841b3cd48ad125e2f46323c8bad3aa0e88e399ec62acb9e57efa7e7c8058c\",\"dweb:/ipfs/QmSqE4mXHA2BXW58deDbXE8MTcsL5JSKNDbm23sVQxRLPS\"]},\"lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol\":{\"keccak256\":\"0xf92515413956f529d95977adc9b0567d583c6203fc31ab1c23824c35187e3ddc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c50fcc459e49a9858b6d8ad5f911295cb7c9ab57567845a250bf0153f84a95c7\",\"dweb:/ipfs/QmcEW85JRzvDkQggxiBBLVAasXWdkhEysqypj9EaB6H2g6\"]},\"src/TermsOfService.sol\":{\"keccak256\":\"0xecdb5384d2747e0dd33988390b9e5e555a24ccee302fb4c89f1cbb32b722627d\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://8a4db943b7fc2b56112524083a66d5265775da55a68d74b2dbcb86cb36d3ef82\",\"dweb:/ipfs/QmaSpM56s4iY4Kik211sgaYMqeKzJc9nSDz37w9YBL3qQW\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"signer","type":"address","indexed":false},{"internalType":"uint16","name":"version","type":"uint16","indexed":false},{"internalType":"bytes32","name":"hash","type":"bytes32","indexed":false},{"internalType":"bytes","name":"metadata","type":"bytes","indexed":false}],"type":"event","name":"Signed","anonymous":false},{"inputs":[{"internalType":"uint16","name":"version","type":"uint16","indexed":false},{"internalType":"bytes32","name":"acceptanceMessageHash","type":"bytes32","indexed":false}],"type":"event","name":"UpdateTermsOfService","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"acceptanceMessageHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"acceptances","outputs":[{"internalType":"bool","name":"accepted","type":"bool"}]},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"stateMutability":"view","type":"function","name":"canAddressProceed","outputs":[{"internalType":"bool","name":"accepted","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"canProceed","outputs":[{"internalType":"bool","name":"accepted","type":"bool"}]},{"inputs":[{"internalType":"uint16","name":"version","type":"uint16"}],"stateMutability":"view","type":"function","name":"getTextHash","outputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"acceptanceMessageHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"hasAcceptedHash","outputs":[{"internalType":"bool","name":"accepted","type":"bool"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint16","name":"version","type":"uint16"}],"stateMutability":"view","type":"function","name":"hasAcceptedVersion","outputs":[{"internalType":"bool","name":"accepted","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"latestAcceptanceMessageHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"latestTermsOfServiceVersion","outputs":[{"internalType":"uint16","name":"","type":"uint16"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"bytes","name":"signature","type":"bytes"},{"internalType":"bytes","name":"metadata","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"signTermsOfServiceBehalf"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"bytes","name":"signature","type":"bytes"},{"internalType":"bytes","name":"metadata","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"signTermsOfServiceOwn"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint16","name":"version","type":"uint16"},{"internalType":"bytes32","name":"acceptanceMessageHash","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"updateTermsOfService"},{"inputs":[{"internalType":"uint16","name":"version","type":"uint16"}],"stateMutability":"view","type":"function","name":"versions","outputs":[{"internalType":"bytes32","name":"acceptanceMessageHash","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"userdoc":{"kind":"user","methods":{"canAddressProceed(address)":{"notice":"Can a user proceed to the next step, or they they need to sign the latest terms of service."},"canProceed()":{"notice":"Can the current user proceed to the next step, or they they need to sign the latest terms of service."},"signTermsOfServiceBehalf(address,bytes32,bytes,bytes)":{"notice":"Sign terms of service - Externally Owned Account sign - EIP-1271 sign - EIP-191 formatted message The user can sign multiple times. See - ECDSA tryRecover https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/ECDSA.sol - Gnosis Safe signing example: https://github.com/safe-global/safe-eth-py/blob/master/gnosis/safe/tests/test_safe_signature.py#L195 - OpenZeppelin SignatureChecker implementation: https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/SignatureChecker.sol"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/TermsOfService.sol":"TermsOfService"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xba43b97fba0d32eb4254f6a5a297b39a19a247082a02d6e69349e071e2946218","urls":["bzz-raw://fc980984badf3984b6303b377711220e067722bbd6a135b24669ff5069ef9f32","dweb:/ipfs/QmPHXMSXj99XjSVM21YsY6aNtLLjLVXDbyN76J5HQYvvrz"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol":{"keccak256":"0x0705a4b1b86d7b0bd8432118f226ba139c44b9dcaba0a6eafba2dd7d0639c544","urls":["bzz-raw://c45b821ef9e882e57c256697a152e108f0f2ad6997609af8904cae99c9bd422e","dweb:/ipfs/QmRKCJW6jjzR5UYZcLpGnhEJ75UVbH6EHkEa49sWx2SKng"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0xa92e4fa126feb6907daa0513ddd816b2eb91f30a808de54f63c17d0e162c3439","urls":["bzz-raw://a367861093b74443b137564d3f3c472f70bcf114739e62059c939f25e315706c","dweb:/ipfs/Qmd7JMpcxD9RuQjK3uM3EzJUgSqdN8vzp8eytEiuwxQJ6h"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Strings.sol":{"keccak256":"0x3088eb2868e8d13d89d16670b5f8612c4ab9ff8956272837d8e90106c59c14a0","urls":["bzz-raw://b81d9ff6559ea5c47fc573e17ece6d9ba5d6839e213e6ebc3b4c5c8fe4199d7f","dweb:/ipfs/QmPCW1bFisUzJkyjroY3yipwfism9RRCigCcK1hbXtVM8n"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol":{"keccak256":"0x809bc3edb4bcbef8263fa616c1b60ee0004b50a8a1bfa164d8f57fd31f520c58","urls":["bzz-raw://8b93a1e39a4a19eba1600b92c96f435442db88cac91e315c8291547a2a7bcfe2","dweb:/ipfs/QmTm34KVe6uZBZwq8dZDNWwPcm24qBJdxqL3rPxBJ4LrMv"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol":{"keccak256":"0x3af3ca86df39aac39a0514c84459d691434a108d2151c8ce9d69f32e315cab80","urls":["bzz-raw://77d1f1cf302cd5e1dfbbb4ce3b281b28e8c52942d4319fce43df2e1b6f02a52d","dweb:/ipfs/QmT6ZXStmK3Knhh9BokeVHQ9HXTBZNgL3Eb1ar1cYg1hWy"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/math/Math.sol":{"keccak256":"0xe4455ac1eb7fc497bb7402579e7b4d64d928b846fce7d2b6fde06d366f21c2b3","urls":["bzz-raw://cc8841b3cd48ad125e2f46323c8bad3aa0e88e399ec62acb9e57efa7e7c8058c","dweb:/ipfs/QmSqE4mXHA2BXW58deDbXE8MTcsL5JSKNDbm23sVQxRLPS"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol":{"keccak256":"0xf92515413956f529d95977adc9b0567d583c6203fc31ab1c23824c35187e3ddc","urls":["bzz-raw://c50fcc459e49a9858b6d8ad5f911295cb7c9ab57567845a250bf0153f84a95c7","dweb:/ipfs/QmcEW85JRzvDkQggxiBBLVAasXWdkhEysqypj9EaB6H2g6"],"license":"MIT"},"src/TermsOfService.sol":{"keccak256":"0xecdb5384d2747e0dd33988390b9e5e555a24ccee302fb4c89f1cbb32b722627d","urls":["bzz-raw://8a4db943b7fc2b56112524083a66d5265775da55a68d74b2dbcb86cb36d3ef82","dweb:/ipfs/QmaSpM56s4iY4Kik211sgaYMqeKzJc9nSDz37w9YBL3qQW"],"license":"GPL-3.0"}},"version":1},"ast":{"absolutePath":"src/TermsOfService.sol","id":46707,"exportedSymbols":{"Context":[44737],"ECDSA":[45332],"IERC1271":[44707],"ITermsOfService":[46448],"Math":[46297],"Ownable":[44693],"SignatureChecker":[45431],"SignedMath":[46402],"Strings":[44966],"TermsOfService":[46706]},"nodeType":"SourceUnit","src":"37:4873:29","nodes":[{"id":46426,"nodeType":"PragmaDirective","src":"37:23:29","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":46427,"nodeType":"ImportDirective","src":"62:42:29","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable.sol","file":"@openzeppelin/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":46707,"sourceUnit":44694,"symbolAliases":[],"unitAlias":""},{"id":46428,"nodeType":"ImportDirective","src":"202:63:29","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol","file":"@openzeppelin/utils/cryptography/SignatureChecker.sol","nameLocation":"-1:-1:-1","scope":46707,"sourceUnit":45432,"symbolAliases":[],"unitAlias":""},{"id":46448,"nodeType":"ContractDefinition","src":"301:239:29","nodes":[{"id":46436,"nodeType":"FunctionDefinition","src":"333:76:29","nodes":[],"functionSelector":"5053b563","implemented":false,"kind":"function","modifiers":[],"name":"canAddressProceed","nameLocation":"342:17:29","parameters":{"id":46432,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46431,"mutability":"mutable","name":"sender","nameLocation":"368:6:29","nodeType":"VariableDeclaration","scope":46436,"src":"360:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46430,"name":"address","nodeType":"ElementaryTypeName","src":"360:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"359:16:29"},"returnParameters":{"id":46435,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46434,"mutability":"mutable","name":"accepted","nameLocation":"399:8:29","nodeType":"VariableDeclaration","scope":46436,"src":"394:13:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46433,"name":"bool","nodeType":"ElementaryTypeName","src":"394:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"393:15:29"},"scope":46448,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46447,"nodeType":"FunctionDefinition","src":"414:124:29","nodes":[],"functionSelector":"5f145fb7","implemented":false,"kind":"function","modifiers":[],"name":"signTermsOfServiceBehalf","nameLocation":"423:24:29","parameters":{"id":46445,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46438,"mutability":"mutable","name":"signer","nameLocation":"456:6:29","nodeType":"VariableDeclaration","scope":46447,"src":"448:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46437,"name":"address","nodeType":"ElementaryTypeName","src":"448:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46440,"mutability":"mutable","name":"hash","nameLocation":"472:4:29","nodeType":"VariableDeclaration","scope":46447,"src":"464:12:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46439,"name":"bytes32","nodeType":"ElementaryTypeName","src":"464:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":46442,"mutability":"mutable","name":"signature","nameLocation":"493:9:29","nodeType":"VariableDeclaration","scope":46447,"src":"478:24:29","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":46441,"name":"bytes","nodeType":"ElementaryTypeName","src":"478:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":46444,"mutability":"mutable","name":"metadata","nameLocation":"519:8:29","nodeType":"VariableDeclaration","scope":46447,"src":"504:23:29","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":46443,"name":"bytes","nodeType":"ElementaryTypeName","src":"504:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"447:81:29"},"returnParameters":{"id":46446,"nodeType":"ParameterList","parameters":[],"src":"537:0:29"},"scope":46448,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"ITermsOfService","contractDependencies":[],"contractKind":"interface","documentation":{"id":46429,"nodeType":"StructuredDocumentation","src":"268:32:29","text":" Minimal MVP interface"},"fullyImplemented":false,"linearizedBaseContracts":[46448],"name":"ITermsOfService","nameLocation":"311:15:29","scope":46707,"usedErrors":[]},{"id":46706,"nodeType":"ContractDefinition","src":"665:4244:29","nodes":[{"id":46456,"nodeType":"UsingForDirective","src":"724:35:29","nodes":[],"global":false,"libraryName":{"id":46454,"name":"SignatureChecker","nameLocations":["730:16:29"],"nodeType":"IdentifierPath","referencedDeclaration":45431,"src":"730:16:29"},"typeName":{"id":46455,"name":"address","nodeType":"ElementaryTypeName","src":"751:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},{"id":46462,"nodeType":"VariableDeclaration","src":"1026:102:29","nodes":[],"constant":false,"functionSelector":"931f45f8","mutability":"mutable","name":"acceptances","nameLocation":"1117:11:29","scope":46706,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"},"typeName":{"id":46461,"keyName":"account","keyNameLocation":"1042:7:29","keyType":{"id":46457,"name":"address","nodeType":"ElementaryTypeName","src":"1034:7:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1026:83:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":46460,"keyName":"acceptanceMessageHash","keyNameLocation":"1069:21:29","keyType":{"id":46458,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1061:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1053:55:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"},"valueName":"accepted","valueNameLocation":"1099:8:29","valueType":{"id":46459,"name":"bool","nodeType":"ElementaryTypeName","src":"1094:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}}},"visibility":"public"},{"id":46466,"nodeType":"VariableDeclaration","src":"1184:72:29","nodes":[],"constant":false,"functionSelector":"5fc7e1b6","mutability":"mutable","name":"versions","nameLocation":"1248:8:29","scope":46706,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint16_$_t_bytes32_$","typeString":"mapping(uint16 => bytes32)"},"typeName":{"id":46465,"keyName":"version","keyNameLocation":"1199:7:29","keyType":{"id":46463,"name":"uint16","nodeType":"ElementaryTypeName","src":"1192:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Mapping","src":"1184:56:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint16_$_t_bytes32_$","typeString":"mapping(uint16 => bytes32)"},"valueName":"acceptanceMessageHash","valueNameLocation":"1218:21:29","valueType":{"id":46464,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1210:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"visibility":"public"},{"id":46468,"nodeType":"VariableDeclaration","src":"1263:42:29","nodes":[],"constant":false,"functionSelector":"9a5f773e","mutability":"mutable","name":"latestAcceptanceMessageHash","nameLocation":"1278:27:29","scope":46706,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46467,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1263:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":46470,"nodeType":"VariableDeclaration","src":"1430:41:29","nodes":[],"constant":false,"functionSelector":"b8ad591b","mutability":"mutable","name":"latestTermsOfServiceVersion","nameLocation":"1444:27:29","scope":46706,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":46469,"name":"uint16","nodeType":"ElementaryTypeName","src":"1430:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"public"},{"id":46476,"nodeType":"EventDefinition","src":"1520:74:29","nodes":[],"anonymous":false,"eventSelector":"85b7d26208605d06e97fbd501843a4150a6efa1d95745c8401f38d56156f82e2","name":"UpdateTermsOfService","nameLocation":"1526:20:29","parameters":{"id":46475,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46472,"indexed":false,"mutability":"mutable","name":"version","nameLocation":"1554:7:29","nodeType":"VariableDeclaration","scope":46476,"src":"1547:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":46471,"name":"uint16","nodeType":"ElementaryTypeName","src":"1547:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":46474,"indexed":false,"mutability":"mutable","name":"acceptanceMessageHash","nameLocation":"1571:21:29","nodeType":"VariableDeclaration","scope":46476,"src":"1563:29:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46473,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1563:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1546:47:29"}},{"id":46486,"nodeType":"EventDefinition","src":"1600:75:29","nodes":[],"anonymous":false,"eventSelector":"32c70fa5bb7bfd2dd4d863783422e6009fbcd3127a0e36bb0627e67ae136f9a7","name":"Signed","nameLocation":"1606:6:29","parameters":{"id":46485,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46478,"indexed":false,"mutability":"mutable","name":"signer","nameLocation":"1621:6:29","nodeType":"VariableDeclaration","scope":46486,"src":"1613:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46477,"name":"address","nodeType":"ElementaryTypeName","src":"1613:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46480,"indexed":false,"mutability":"mutable","name":"version","nameLocation":"1636:7:29","nodeType":"VariableDeclaration","scope":46486,"src":"1629:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":46479,"name":"uint16","nodeType":"ElementaryTypeName","src":"1629:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":46482,"indexed":false,"mutability":"mutable","name":"hash","nameLocation":"1653:4:29","nodeType":"VariableDeclaration","scope":46486,"src":"1645:12:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46481,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1645:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":46484,"indexed":false,"mutability":"mutable","name":"metadata","nameLocation":"1665:8:29","nodeType":"VariableDeclaration","scope":46486,"src":"1659:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46483,"name":"bytes","nodeType":"ElementaryTypeName","src":"1659:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1612:62:29"}},{"id":46492,"nodeType":"FunctionDefinition","src":"1681:31:29","nodes":[],"body":{"id":46491,"nodeType":"Block","src":"1705:7:29","nodes":[],"statements":[]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[],"id":46489,"kind":"baseConstructorSpecifier","modifierName":{"id":46488,"name":"Ownable","nameLocations":["1695:7:29"],"nodeType":"IdentifierPath","referencedDeclaration":44693,"src":"1695:7:29"},"nodeType":"ModifierInvocation","src":"1695:9:29"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":46487,"nodeType":"ParameterList","parameters":[],"src":"1692:2:29"},"returnParameters":{"id":46490,"nodeType":"ParameterList","parameters":[],"src":"1705:0:29"},"scope":46706,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":46508,"nodeType":"FunctionDefinition","src":"1718:176:29","nodes":[],"body":{"id":46507,"nodeType":"Block","src":"1827:67:29","nodes":[],"statements":[{"expression":{"baseExpression":{"baseExpression":{"id":46501,"name":"acceptances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46462,"src":"1844:11:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"}},"id":46503,"indexExpression":{"id":46502,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46494,"src":"1856:7:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1844:20:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":46505,"indexExpression":{"id":46504,"name":"acceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46496,"src":"1865:21:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1844:43:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":46500,"id":46506,"nodeType":"Return","src":"1837:50:29"}]},"functionSelector":"f8f584b8","implemented":true,"kind":"function","modifiers":[],"name":"hasAcceptedHash","nameLocation":"1727:15:29","parameters":{"id":46497,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46494,"mutability":"mutable","name":"account","nameLocation":"1751:7:29","nodeType":"VariableDeclaration","scope":46508,"src":"1743:15:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46493,"name":"address","nodeType":"ElementaryTypeName","src":"1743:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46496,"mutability":"mutable","name":"acceptanceMessageHash","nameLocation":"1768:21:29","nodeType":"VariableDeclaration","scope":46508,"src":"1760:29:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46495,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1760:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1742:48:29"},"returnParameters":{"id":46500,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46499,"mutability":"mutable","name":"accepted","nameLocation":"1817:8:29","nodeType":"VariableDeclaration","scope":46508,"src":"1812:13:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46498,"name":"bool","nodeType":"ElementaryTypeName","src":"1812:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1811:15:29"},"scope":46706,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46520,"nodeType":"FunctionDefinition","src":"1900:113:29","nodes":[],"body":{"id":46519,"nodeType":"Block","src":"1972:41:29","nodes":[],"statements":[{"expression":{"baseExpression":{"id":46515,"name":"versions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46466,"src":"1989:8:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint16_$_t_bytes32_$","typeString":"mapping(uint16 => bytes32)"}},"id":46517,"indexExpression":{"id":46516,"name":"version","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46510,"src":"1998:7:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1989:17:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":46514,"id":46518,"nodeType":"Return","src":"1982:24:29"}]},"functionSelector":"c4846df0","implemented":true,"kind":"function","modifiers":[],"name":"getTextHash","nameLocation":"1909:11:29","parameters":{"id":46511,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46510,"mutability":"mutable","name":"version","nameLocation":"1928:7:29","nodeType":"VariableDeclaration","scope":46520,"src":"1921:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":46509,"name":"uint16","nodeType":"ElementaryTypeName","src":"1921:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"1920:16:29"},"returnParameters":{"id":46514,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46513,"mutability":"mutable","name":"hash","nameLocation":"1966:4:29","nodeType":"VariableDeclaration","scope":46520,"src":"1958:12:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46512,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1958:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1957:14:29"},"scope":46706,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46551,"nodeType":"FunctionDefinition","src":"2019:249:29","nodes":[],"body":{"id":46550,"nodeType":"Block","src":"2116:152:29","nodes":[],"statements":[{"assignments":[46530],"declarations":[{"constant":false,"id":46530,"mutability":"mutable","name":"hash","nameLocation":"2134:4:29","nodeType":"VariableDeclaration","scope":46550,"src":"2126:12:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46529,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2126:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":46534,"initialValue":{"baseExpression":{"id":46531,"name":"versions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46466,"src":"2141:8:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint16_$_t_bytes32_$","typeString":"mapping(uint16 => bytes32)"}},"id":46533,"indexExpression":{"id":46532,"name":"version","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46524,"src":"2150:7:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2141:17:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2126:32:29"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":46541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46536,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46530,"src":"2176:4:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46539,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2192:1:29","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46538,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2184:7:29","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":46537,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2184:7:29","typeDescriptions":{}}},"id":46540,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2184:10:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2176:18:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4e6f20737563682076657273696f6e","id":46542,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2196:17:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_5cbac6ec2b4a5b792f4ef6dc32ffa8fa725bada96b8524c4a39d251097192ca2","typeString":"literal_string \"No such version\""},"value":"No such version"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5cbac6ec2b4a5b792f4ef6dc32ffa8fa725bada96b8524c4a39d251097192ca2","typeString":"literal_string \"No such version\""}],"id":46535,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2168:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46543,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2168:46:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46544,"nodeType":"ExpressionStatement","src":"2168:46:29"},{"expression":{"arguments":[{"id":46546,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46522,"src":"2247:7:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46547,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46530,"src":"2256:4:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":46545,"name":"hasAcceptedHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"2231:15:29","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes32_$returns$_t_bool_$","typeString":"function (address,bytes32) view returns (bool)"}},"id":46548,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2231:30:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":46528,"id":46549,"nodeType":"Return","src":"2224:37:29"}]},"functionSelector":"be0fc8a6","implemented":true,"kind":"function","modifiers":[],"name":"hasAcceptedVersion","nameLocation":"2028:18:29","parameters":{"id":46525,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46522,"mutability":"mutable","name":"account","nameLocation":"2055:7:29","nodeType":"VariableDeclaration","scope":46551,"src":"2047:15:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46521,"name":"address","nodeType":"ElementaryTypeName","src":"2047:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46524,"mutability":"mutable","name":"version","nameLocation":"2071:7:29","nodeType":"VariableDeclaration","scope":46551,"src":"2064:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":46523,"name":"uint16","nodeType":"ElementaryTypeName","src":"2064:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"2046:33:29"},"returnParameters":{"id":46528,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46527,"mutability":"mutable","name":"accepted","nameLocation":"2106:8:29","nodeType":"VariableDeclaration","scope":46551,"src":"2101:13:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46526,"name":"bool","nodeType":"ElementaryTypeName","src":"2101:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2100:15:29"},"scope":46706,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46596,"nodeType":"FunctionDefinition","src":"2274:544:29","nodes":[],"body":{"id":46595,"nodeType":"Block","src":"2368:450:29","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":46565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46561,"name":"version","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46553,"src":"2386:7:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":46564,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46562,"name":"latestTermsOfServiceVersion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46470,"src":"2397:27:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":46563,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2427:1:29","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2397:31:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2386:42:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"56657273696f6e73206d757374206265207570646174656420696e6372656d656e74616c6c79","id":46566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2430:40:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_0ff682432117338282252fba0b62cc61c31a83ae01943f5150417c66b5e37af9","typeString":"literal_string \"Versions must be updated incrementally\""},"value":"Versions must be updated incrementally"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0ff682432117338282252fba0b62cc61c31a83ae01943f5150417c66b5e37af9","typeString":"literal_string \"Versions must be updated incrementally\""}],"id":46560,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2378:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2378:93:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46568,"nodeType":"ExpressionStatement","src":"2378:93:29"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":46572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46570,"name":"acceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46555,"src":"2489:21:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":46571,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"2514:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2489:52:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"53657474696e67207468652073616d65207465726d73206f662073657276696365207477696365","id":46573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2543:41:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_85e8098ec933e4fd7904d398606a2b0eaffb02b637869c5e7fda30db015ee92e","typeString":"literal_string \"Setting the same terms of service twice\""},"value":"Setting the same terms of service twice"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_85e8098ec933e4fd7904d398606a2b0eaffb02b637869c5e7fda30db015ee92e","typeString":"literal_string \"Setting the same terms of service twice\""}],"id":46569,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2481:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2481:104:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46575,"nodeType":"ExpressionStatement","src":"2481:104:29"},{"expression":{"id":46578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46576,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"2595:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46577,"name":"acceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46555,"src":"2625:21:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2595:51:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":46579,"nodeType":"ExpressionStatement","src":"2595:51:29"},{"expression":{"id":46582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46580,"name":"latestTermsOfServiceVersion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46470,"src":"2656:27:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46581,"name":"version","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46553,"src":"2686:7:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2656:37:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":46583,"nodeType":"ExpressionStatement","src":"2656:37:29"},{"expression":{"id":46588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46584,"name":"versions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46466,"src":"2703:8:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint16_$_t_bytes32_$","typeString":"mapping(uint16 => bytes32)"}},"id":46586,"indexExpression":{"id":46585,"name":"version","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46553,"src":"2712:7:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2703:17:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46587,"name":"acceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46555,"src":"2723:21:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2703:41:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":46589,"nodeType":"ExpressionStatement","src":"2703:41:29"},{"eventCall":{"arguments":[{"id":46591,"name":"version","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46553,"src":"2780:7:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":46592,"name":"acceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46555,"src":"2789:21:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":46590,"name":"UpdateTermsOfService","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46476,"src":"2759:20:29","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint16_$_t_bytes32_$returns$__$","typeString":"function (uint16,bytes32)"}},"id":46593,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2759:52:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46594,"nodeType":"EmitStatement","src":"2754:57:29"}]},"functionSelector":"5c162cdf","implemented":true,"kind":"function","modifiers":[{"id":46558,"kind":"modifierInvocation","modifierName":{"id":46557,"name":"onlyOwner","nameLocations":["2358:9:29"],"nodeType":"IdentifierPath","referencedDeclaration":44612,"src":"2358:9:29"},"nodeType":"ModifierInvocation","src":"2358:9:29"}],"name":"updateTermsOfService","nameLocation":"2283:20:29","parameters":{"id":46556,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46553,"mutability":"mutable","name":"version","nameLocation":"2311:7:29","nodeType":"VariableDeclaration","scope":46596,"src":"2304:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":46552,"name":"uint16","nodeType":"ElementaryTypeName","src":"2304:6:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":46555,"mutability":"mutable","name":"acceptanceMessageHash","nameLocation":"2328:21:29","nodeType":"VariableDeclaration","scope":46596,"src":"2320:29:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46554,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2320:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2303:47:29"},"returnParameters":{"id":46559,"nodeType":"ParameterList","parameters":[],"src":"2368:0:29"},"scope":46706,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":46608,"nodeType":"FunctionDefinition","src":"2956:111:29","nodes":[],"body":{"id":46607,"nodeType":"Block","src":"3014:53:29","nodes":[],"statements":[{"expression":{"arguments":[{"expression":{"id":46603,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3049:3:29","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3053:6:29","memberName":"sender","nodeType":"MemberAccess","src":"3049:10:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":46602,"name":"canAddressProceed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46632,"src":"3031:17:29","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view returns (bool)"}},"id":46605,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3031:29:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":46601,"id":46606,"nodeType":"Return","src":"3024:36:29"}]},"documentation":{"id":46597,"nodeType":"StructuredDocumentation","src":"2824:127:29","text":" Can the current user proceed to the next step, or they they need to sign\n the latest terms of service."},"functionSelector":"61b35163","implemented":true,"kind":"function","modifiers":[],"name":"canProceed","nameLocation":"2965:10:29","parameters":{"id":46598,"nodeType":"ParameterList","parameters":[],"src":"2975:2:29"},"returnParameters":{"id":46601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46600,"mutability":"mutable","name":"accepted","nameLocation":"3004:8:29","nodeType":"VariableDeclaration","scope":46608,"src":"2999:13:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46599,"name":"bool","nodeType":"ElementaryTypeName","src":"2999:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2998:15:29"},"scope":46706,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46632,"nodeType":"FunctionDefinition","src":"3195:251:29","nodes":[],"body":{"id":46631,"nodeType":"Block","src":"3274:172:29","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":46622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46617,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"3292:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46620,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3331:1:29","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46619,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3323:7:29","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":46618,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3323:7:29","typeDescriptions":{}}},"id":46621,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3323:10:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3292:41:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5465726d73206f662073657276696365206e6f7420696e697469616c69736564","id":46623,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3335:34:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_b9a8ad693dfd4d3284f38815b40d2e172d0d45be8d620d0750cd503f08a8a5e3","typeString":"literal_string \"Terms of service not initialised\""},"value":"Terms of service not initialised"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b9a8ad693dfd4d3284f38815b40d2e172d0d45be8d620d0750cd503f08a8a5e3","typeString":"literal_string \"Terms of service not initialised\""}],"id":46616,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3284:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46624,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3284:86:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46625,"nodeType":"ExpressionStatement","src":"3284:86:29"},{"expression":{"arguments":[{"id":46627,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46611,"src":"3403:6:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46628,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"3411:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":46626,"name":"hasAcceptedHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"3387:15:29","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes32_$returns$_t_bool_$","typeString":"function (address,bytes32) view returns (bool)"}},"id":46629,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3387:52:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":46615,"id":46630,"nodeType":"Return","src":"3380:59:29"}]},"baseFunctions":[46436],"documentation":{"id":46609,"nodeType":"StructuredDocumentation","src":"3073:117:29","text":" Can a user proceed to the next step, or they they need to sign\n the latest terms of service."},"functionSelector":"5053b563","implemented":true,"kind":"function","modifiers":[],"name":"canAddressProceed","nameLocation":"3204:17:29","parameters":{"id":46612,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46611,"mutability":"mutable","name":"sender","nameLocation":"3230:6:29","nodeType":"VariableDeclaration","scope":46632,"src":"3222:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46610,"name":"address","nodeType":"ElementaryTypeName","src":"3222:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3221:16:29"},"returnParameters":{"id":46615,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46614,"mutability":"mutable","name":"accepted","nameLocation":"3264:8:29","nodeType":"VariableDeclaration","scope":46632,"src":"3259:13:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46613,"name":"bool","nodeType":"ElementaryTypeName","src":"3259:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3258:15:29"},"scope":46706,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46687,"nodeType":"FunctionDefinition","src":"4131:586:29","nodes":[],"body":{"id":46686,"nodeType":"Block","src":"4253:464:29","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":46647,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46645,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46637,"src":"4271:4:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":46646,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"4279:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4271:35:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"43616e6e6f74207369676e206f6c646572206f7220756e6b6e6f776e2076657273696f6e73207465726d73206f66207365727669636573","id":46648,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4308:57:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_a041ce8d408344aed3d0fdc91690c3ac0035dca660cdd8491c342248a932f2a4","typeString":"literal_string \"Cannot sign older or unknown versions terms of services\""},"value":"Cannot sign older or unknown versions terms of services"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_a041ce8d408344aed3d0fdc91690c3ac0035dca660cdd8491c342248a932f2a4","typeString":"literal_string \"Cannot sign older or unknown versions terms of services\""}],"id":46644,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4263:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46649,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4263:103:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46650,"nodeType":"ExpressionStatement","src":"4263:103:29"},{"expression":{"arguments":[{"arguments":[{"id":46654,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46637,"src":"4411:4:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":46655,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46639,"src":"4417:9:29","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"id":46652,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46635,"src":"4384:6:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4391:19:29","memberName":"isValidSignatureNow","nodeType":"MemberAccess","referencedDeclaration":45378,"src":"4384:26:29","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bool_$attached_to$_t_address_$","typeString":"function (address,bytes32,bytes memory) view returns (bool)"}},"id":46656,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4384:43:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5369676e6174757265206973206e6f742076616c6964","id":46657,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4429:24:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_5482edd09fd5040631ef4b51e73f53323e29bc91c9d64b969ac54702b05cf16b","typeString":"literal_string \"Signature is not valid\""},"value":"Signature is not valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5482edd09fd5040631ef4b51e73f53323e29bc91c9d64b969ac54702b05cf16b","typeString":"literal_string \"Signature is not valid\""}],"id":46651,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4376:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46658,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4376:78:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46659,"nodeType":"ExpressionStatement","src":"4376:78:29"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":46667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"baseExpression":{"id":46661,"name":"acceptances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46462,"src":"4472:11:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"}},"id":46663,"indexExpression":{"id":46662,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46635,"src":"4484:6:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4472:19:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":46665,"indexExpression":{"id":46664,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"4492:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4472:48:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"66616c7365","id":46666,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4524:5:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"4472:57:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"416c7265616479207369676e6564","id":46668,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4531:16:29","typeDescriptions":{"typeIdentifier":"t_stringliteral_988ed7cc4955768d49d35b181a2bc2b0514174494b33f90da8e2fba3c967c228","typeString":"literal_string \"Already signed\""},"value":"Already signed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_988ed7cc4955768d49d35b181a2bc2b0514174494b33f90da8e2fba3c967c228","typeString":"literal_string \"Already signed\""}],"id":46660,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4464:7:29","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46669,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4464:84:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46670,"nodeType":"ExpressionStatement","src":"4464:84:29"},{"expression":{"id":46677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":46671,"name":"acceptances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46462,"src":"4558:11:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"}},"id":46674,"indexExpression":{"id":46672,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46635,"src":"4570:6:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4558:19:29","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":46675,"indexExpression":{"id":46673,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"4578:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4558:48:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":46676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4609:4:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4558:55:29","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46678,"nodeType":"ExpressionStatement","src":"4558:55:29"},{"eventCall":{"arguments":[{"id":46680,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46635,"src":"4635:6:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46681,"name":"latestTermsOfServiceVersion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46470,"src":"4643:27:29","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":46682,"name":"latestAcceptanceMessageHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46468,"src":"4672:27:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":46683,"name":"metadata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46641,"src":"4701:8:29","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":46679,"name":"Signed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46486,"src":"4628:6:29","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint16_$_t_bytes32_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,uint16,bytes32,bytes memory)"}},"id":46684,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4628:82:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46685,"nodeType":"EmitStatement","src":"4623:87:29"}]},"baseFunctions":[46447],"documentation":{"id":46633,"nodeType":"StructuredDocumentation","src":"3452:674:29","text":" Sign terms of service\n - Externally Owned Account sign\n - EIP-1271 sign\n - EIP-191 formatted message\n The user can sign multiple times.\n See\n - ECDSA tryRecover https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/ECDSA.sol\n - Gnosis Safe signing example: https://github.com/safe-global/safe-eth-py/blob/master/gnosis/safe/tests/test_safe_signature.py#L195\n - OpenZeppelin SignatureChecker implementation: https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/SignatureChecker.sol"},"functionSelector":"5f145fb7","implemented":true,"kind":"function","modifiers":[],"name":"signTermsOfServiceBehalf","nameLocation":"4140:24:29","parameters":{"id":46642,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46635,"mutability":"mutable","name":"signer","nameLocation":"4173:6:29","nodeType":"VariableDeclaration","scope":46687,"src":"4165:14:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46634,"name":"address","nodeType":"ElementaryTypeName","src":"4165:7:29","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46637,"mutability":"mutable","name":"hash","nameLocation":"4189:4:29","nodeType":"VariableDeclaration","scope":46687,"src":"4181:12:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46636,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4181:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":46639,"mutability":"mutable","name":"signature","nameLocation":"4210:9:29","nodeType":"VariableDeclaration","scope":46687,"src":"4195:24:29","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":46638,"name":"bytes","nodeType":"ElementaryTypeName","src":"4195:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":46641,"mutability":"mutable","name":"metadata","nameLocation":"4236:8:29","nodeType":"VariableDeclaration","scope":46687,"src":"4221:23:29","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":46640,"name":"bytes","nodeType":"ElementaryTypeName","src":"4221:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"4164:81:29"},"returnParameters":{"id":46643,"nodeType":"ParameterList","parameters":[],"src":"4253:0:29"},"scope":46706,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":46705,"nodeType":"FunctionDefinition","src":"4723:183:29","nodes":[],"body":{"id":46704,"nodeType":"Block","src":"4826:80:29","nodes":[],"statements":[{"expression":{"arguments":[{"expression":{"id":46697,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4861:3:29","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4865:6:29","memberName":"sender","nodeType":"MemberAccess","src":"4861:10:29","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46699,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46689,"src":"4873:4:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":46700,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46691,"src":"4879:9:29","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"id":46701,"name":"metadata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46693,"src":"4890:8:29","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":46696,"name":"signTermsOfServiceBehalf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46687,"src":"4836:24:29","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes32_$_t_bytes_calldata_ptr_$_t_bytes_calldata_ptr_$returns$__$","typeString":"function (address,bytes32,bytes calldata,bytes calldata)"}},"id":46702,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4836:63:29","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46703,"nodeType":"ExpressionStatement","src":"4836:63:29"}]},"functionSelector":"3f3dea15","implemented":true,"kind":"function","modifiers":[],"name":"signTermsOfServiceOwn","nameLocation":"4732:21:29","parameters":{"id":46694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46689,"mutability":"mutable","name":"hash","nameLocation":"4762:4:29","nodeType":"VariableDeclaration","scope":46705,"src":"4754:12:29","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46688,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4754:7:29","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":46691,"mutability":"mutable","name":"signature","nameLocation":"4783:9:29","nodeType":"VariableDeclaration","scope":46705,"src":"4768:24:29","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":46690,"name":"bytes","nodeType":"ElementaryTypeName","src":"4768:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":46693,"mutability":"mutable","name":"metadata","nameLocation":"4809:8:29","nodeType":"VariableDeclaration","scope":46705,"src":"4794:23:29","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":46692,"name":"bytes","nodeType":"ElementaryTypeName","src":"4794:5:29","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"4753:65:29"},"returnParameters":{"id":46695,"nodeType":"ParameterList","parameters":[],"src":"4826:0:29"},"scope":46706,"stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[{"baseName":{"id":46450,"name":"Ownable","nameLocations":["692:7:29"],"nodeType":"IdentifierPath","referencedDeclaration":44693,"src":"692:7:29"},"id":46451,"nodeType":"InheritanceSpecifier","src":"692:7:29"},{"baseName":{"id":46452,"name":"ITermsOfService","nameLocations":["701:15:29"],"nodeType":"IdentifierPath","referencedDeclaration":46448,"src":"701:15:29"},"id":46453,"nodeType":"InheritanceSpecifier","src":"701:15:29"}],"canonicalName":"TermsOfService","contractDependencies":[],"contractKind":"contract","documentation":{"id":46449,"nodeType":"StructuredDocumentation","src":"542:122:29","text":" Terms of service acceptance tracker\n Manage signatures of users of different versions of terms of service."},"fullyImplemented":true,"linearizedBaseContracts":[46706,46448,44693,44737],"name":"TermsOfService","nameLocation":"674:14:29","scope":46707,"usedErrors":[]}],"license":"GPL-3.0"},"id":29}